<?php/** * Copyright (C) 2008-2012 FluxBB * based on code by Rickard Andersson copyright (C) 2002-2008 PunBB * License: http://www.gnu.org/licenses/gpl.html GPL version 2 or higher */// Tell header.php to use the admin templatedefine('PUN_ADMIN_CONSOLE', 1);define('PUN_ROOT', dirname(__FILE__).'/');require PUN_ROOT.'include/common.php';require PUN_ROOT.'include/common_admin.php';if (!$pun_user['is_admmod'])	message($lang_common['No permission'], false, '403 Forbidden');// Load the admin_reports.php language filerequire PUN_ROOT.'lang/'.$admin_language.'/admin_reports.php';// Zap a reportif (isset($_POST['zap_id'])){	confirm_referrer('admin_reports.php');	$zap_id = intval(key($_POST['zap_id']));	$result = $db->query('SELECT zapped FROM '.$db->prefix.'reports WHERE id='.$zap_id) or error('Unable to fetch report info', __FILE__, __LINE__, $db->error());	$zapped = $db->result($result);	if ($zapped == '')		$db->query('UPDATE '.$db->prefix.'reports SET zapped='.time().', zapped_by='.$pun_user['id'].' WHERE id='.$zap_id) or error('Unable to zap report', __FILE__, __LINE__, $db->error());	// Delete old reports (which cannot be viewed anyway)	$result = $db->query('SELECT zapped FROM '.$db->prefix.'reports WHERE zapped IS NOT NULL ORDER BY zapped DESC LIMIT 10,1') or error('Unable to fetch read reports to delete', __FILE__, __LINE__, $db->error());	if ($db->num_rows($result) > 0)	{		$zapped_threshold = $db->result($result);		$db->query('DELETE FROM '.$db->prefix.'reports WHERE zapped <= '.$zapped_threshold) or error('Unable to delete old read reports', __FILE__, __LINE__, $db->error());	}	redirect('admin_reports.php', $lang_admin_reports['Report zapped redirect']);}$page_title = array(pun_htmlspecialchars($pun_config['o_board_title']), $lang_admin_common['Admin'], $lang_admin_common['Reports']);define('PUN_ACTIVE_PAGE', 'admin');require PUN_ROOT.'header.php';generate_admin_menu('reports');?>	<div class="blockform">		<h2><span><?php echo $lang_admin_reports['New reports head'] ?></span></h2>		<div class="box">			<form method="post" action="admin_reports.php?action=zap"><?php$result = $db->query('SELECT r.id, r.topic_id, r.forum_id, r.reported_by, r.created, r.message, p.id AS pid, t.subject, f.forum_name, u.username AS reporter FROM '.$db->prefix.'reports AS r LEFT JOIN '.$db->prefix.'posts AS p ON r.post_id=p.id LEFT JOIN '.$db->prefix.'topics AS t ON r.topic_id=t.id LEFT JOIN '.$db->prefix.'forums AS f ON r.forum_id=f.id LEFT JOIN '.$db->prefix.'users AS u ON r.reported_by=u.id WHERE r.zapped IS NULL ORDER BY created DESC') or error('Unable to fetch report list', __FILE__, __LINE__, $db->error());if ($db->num_rows($result)){	while ($cur_report = $db->fetch_assoc($result))	{		$reporter = ($cur_report['reporter'] != '') ? '<a href="profile.php?id='.$cur_report['reported_by'].'">'.pun_htmlspecialchars($cur_report['reporter']).'</a>' : $lang_admin_reports['Deleted user'];		$forum = ($cur_report['forum_name'] != '') ? '<span><a href="viewforum.php?id='.$cur_report['forum_id'].'">'.pun_htmlspecialchars($cur_report['forum_name']).'</a></span>' : '<span>'.$lang_admin_reports['Deleted'].'</span>';		$topic = ($cur_report['subject'] != '') ? '<span>&#160;<a href="viewtopic.php?id='.$cur_report['topic_id'].'">'.pun_htmlspecialchars($cur_report['subject']).'</a></span>' : '<span>&#160;'.$lang_admin_reports['Deleted'].'</span>';		$post = str_replace("\n", '<br />', pun_htmlspecialchars($cur_report['message']));		$post_id = ($cur_report['pid'] != '') ? '<span>&#160;<a href="viewtopic.php?pid='.$cur_report['pid'].'#p'.$cur_report['pid'].'">'.sprintf($lang_admin_reports['Post ID'], $cur_report['pid']).'</a></span>' : '<span>&#160;'.$lang_admin_reports['Deleted'].'</span>';		$report_location = array($forum, $topic, $post_id);?>				<div class="inform">					<fieldset>						<legend><?php printf($lang_admin_reports['Report subhead'], format_time($cur_report['created'])) ?></legend>						<div class="infldset">							<table class="aligntop" cellspacing="0">								<tr>									<th scope="row"><?php printf($lang_admin_reports['Reported by'], $reporter) ?></th>									<td class="location"><?php echo implode(' ', $report_location) ?></td>								</tr>								<tr>									<th scope="row"><?php echo $lang_admin_reports['Reason'] ?><div><input type="submit" name="zap_id[<?php echo $cur_report['id'] ?>]" value="<?php echo $lang_admin_reports['Zap'] ?>" /></div></th>									<td><?php echo $post ?></td>								</tr>							</table>						</div>					</fieldset>				</div><?php	}}else{?>				<div class="inform">					<fieldset>						<legend><?php echo $lang_admin_common['None'] ?></legend>						<div class="infldset">							<p><?php echo $lang_admin_reports['No new reports'] ?></p>						</div>					</fieldset>				</div><?php}?>			</form>		</div>	</div>	<div class="blockform block2">		<h2><span><?php echo $lang_admin_reports['Last 10 head'] ?></span></h2>		<div class="box">			<div class="fakeform"><?php$result = $db->query('SELECT r.id, r.topic_id, r.forum_id, r.reported_by, r.message, r.zapped, r.zapped_by AS zapped_by_id, p.id AS pid, t.subject, f.forum_name, u.username AS reporter, u2.username AS zapped_by FROM '.$db->prefix.'reports AS r LEFT JOIN '.$db->prefix.'posts AS p ON r.post_id=p.id LEFT JOIN '.$db->prefix.'topics AS t ON r.topic_id=t.id LEFT JOIN '.$db->prefix.'forums AS f ON r.forum_id=f.id LEFT JOIN '.$db->prefix.'users AS u ON r.reported_by=u.id LEFT JOIN '.$db->prefix.'users AS u2 ON r.zapped_by=u2.id WHERE r.zapped IS NOT NULL ORDER BY zapped DESC LIMIT 10') or error('Unable to fetch report list', __FILE__, __LINE__, $db->error());if ($db->num_rows($result)){	while ($cur_report = $db->fetch_assoc($result))	{		$reporter = ($cur_report['reporter'] != '') ? '<a href="profile.php?id='.$cur_report['reported_by'].'">'.pun_htmlspecialchars($cur_report['reporter']).'</a>' : $lang_admin_reports['Deleted user'];		$forum = ($cur_report['forum_name'] != '') ? '<span><a href="viewforum.php?id='.$cur_report['forum_id'].'">'.pun_htmlspecialchars($cur_report['forum_name']).'</a></span>' : '<span>'.$lang_admin_reports['Deleted'].'</span>';		$topic = ($cur_report['subject'] != '') ? '<span>&#160;<a href="viewtopic.php?id='.$cur_report['topic_id'].'">'.pun_htmlspecialchars($cur_report['subject']).'</a></span>' : '<span>&#160;'.$lang_admin_reports['Deleted'].'</span>';		$post = str_replace("\n", '<br />', pun_htmlspecialchars($cur_report['message']));		$post_id = ($cur_report['pid'] != '') ? '<span>&#160;<a href="viewtopic.php?pid='.$cur_report['pid'].'#p'.$cur_report['pid'].'">'.sprintf($lang_admin_reports['Post ID'], $cur_report['pid']).'</a></span>' : '<span>&#160;'.$lang_admin_reports['Deleted'].'</span>';		$zapped_by = ($cur_report['zapped_by'] != '') ? '<a href="profile.php?id='.$cur_report['zapped_by_id'].'">'.pun_htmlspecialchars($cur_report['zapped_by']).'</a>' : $lang_admin_reports['NA'];		$zapped_by = ($cur_report['zapped_by'] != '') ? '<strong>'.pun_htmlspecialchars($cur_report['zapped_by']).'</strong>' : $lang_admin_reports['NA'];		$report_location = array($forum, $topic, $post_id);?>				<div class="inform">					<fieldset>						<legend><?php printf($lang_admin_reports['Zapped subhead'], format_time($cur_report['zapped']), $zapped_by) ?></legend>						<div class="infldset">							<table class="aligntop" cellspacing="0">								<tr>									<th scope="row"><?php printf($lang_admin_reports['Reported by'], $reporter) ?></th>									<td class="location"><?php echo implode(' ', $report_location) ?></td>								</tr>								<tr>									<th scope="row"><?php echo $lang_admin_reports['Reason'] ?></th>									<td><?php echo $post ?></td>								</tr>							</table>						</div>					</fieldset>				</div><?php	}}else{?>				<div class="inform">					<fieldset>						<legend><?php echo $lang_admin_common['None'] ?></legend>						<div class="infldset">							<p><?php echo $lang_admin_reports['No zapped reports'] ?></p>						</div>					</fieldset>				</div><?php}?>			</div>		</div>	</div>	<div class="clearer"></div></div><?phprequire PUN_ROOT.'footer.php';
<?php/** * Copyright (C) 2008-2012 FluxBB * based on code by Rickard Andersson copyright (C) 2002-2008 PunBB * License: http://www.gnu.org/licenses/gpl.html GPL version 2 or higher */// Tell header.php to use the admin templatedefine('PUN_ADMIN_CONSOLE', 1);define('PUN_ROOT', dirname(__FILE__).'/');require PUN_ROOT.'include/common.php';require PUN_ROOT.'include/common_admin.php';if ($pun_user['g_id'] != PUN_ADMIN)	message($lang_common['No permission'], false, '403 Forbidden');// Load the admin_censoring.php language filerequire PUN_ROOT.'lang/'.$admin_language.'/admin_censoring.php';// Add a censor wordif (isset($_POST['add_word'])){	confirm_referrer('admin_censoring.php');	$search_for = pun_trim($_POST['new_search_for']);	$replace_with = pun_trim($_POST['new_replace_with']);	if ($search_for == '')		message($lang_admin_censoring['Must enter word message']);	$db->query('INSERT INTO '.$db->prefix.'censoring (search_for, replace_with) VALUES (\''.$db->escape($search_for).'\', \''.$db->escape($replace_with).'\')') or error('Unable to add censor word', __FILE__, __LINE__, $db->error());	// Regenerate the censoring cache	if (!defined('FORUM_CACHE_FUNCTIONS_LOADED'))		require PUN_ROOT.'include/cache.php';	generate_censoring_cache();	redirect('admin_censoring.php', $lang_admin_censoring['Word added redirect']);}// Update a censor wordelse if (isset($_POST['update'])){	confirm_referrer('admin_censoring.php');	$id = intval(key($_POST['update']));	$search_for = pun_trim($_POST['search_for'][$id]);	$replace_with = pun_trim($_POST['replace_with'][$id]);	if ($search_for == '')		message($lang_admin_censoring['Must enter word message']);	$db->query('UPDATE '.$db->prefix.'censoring SET search_for=\''.$db->escape($search_for).'\', replace_with=\''.$db->escape($replace_with).'\' WHERE id='.$id) or error('Unable to update censor word', __FILE__, __LINE__, $db->error());	// Regenerate the censoring cache	if (!defined('FORUM_CACHE_FUNCTIONS_LOADED'))		require PUN_ROOT.'include/cache.php';	generate_censoring_cache();	redirect('admin_censoring.php', $lang_admin_censoring['Word updated redirect']);}// Remove a censor wordelse if (isset($_POST['remove'])){	confirm_referrer('admin_censoring.php');	$id = intval(key($_POST['remove']));	$db->query('DELETE FROM '.$db->prefix.'censoring WHERE id='.$id) or error('Unable to delete censor word', __FILE__, __LINE__, $db->error());	// Regenerate the censoring cache	if (!defined('FORUM_CACHE_FUNCTIONS_LOADED'))		require PUN_ROOT.'include/cache.php';	generate_censoring_cache();	redirect('admin_censoring.php',  $lang_admin_censoring['Word removed redirect']);}$page_title = array(pun_htmlspecialchars($pun_config['o_board_title']), $lang_admin_common['Admin'], $lang_admin_common['Censoring']);$focus_element = array('censoring', 'new_search_for');define('PUN_ACTIVE_PAGE', 'admin');require PUN_ROOT.'header.php';generate_admin_menu('censoring');?>	<div class="blockform">		<h2><span><?php echo $lang_admin_censoring['Censoring head'] ?></span></h2>		<div class="box">			<form id="censoring" method="post" action="admin_censoring.php">				<div class="inform">					<fieldset>						<legend><?php echo $lang_admin_censoring['Add word subhead'] ?></legend>						<div class="infldset">							<p><?php echo $lang_admin_censoring['Add word info'].' '.($pun_config['o_censoring'] == '1' ? sprintf($lang_admin_censoring['Censoring enabled'], '<a href="admin_options.php#censoring">'.$lang_admin_common['Options'].'</a>') : sprintf($lang_admin_censoring['Censoring disabled'], '<a href="admin_options.php#censoring">'.$lang_admin_common['Options'].'</a>')) ?></p>							<table cellspacing="0">							<thead>								<tr>									<th class="tcl" scope="col"><?php echo $lang_admin_censoring['Censored word label'] ?></th>									<th class="tc2" scope="col"><?php echo $lang_admin_censoring['Replacement label'] ?></th>									<th class="hidehead" scope="col"><?php echo $lang_admin_censoring['Action label'] ?></th>								</tr>							</thead>							<tbody>								<tr>									<td class="tcl"><input type="text" name="new_search_for" size="24" maxlength="60" tabindex="1" /></td>									<td class="tc2"><input type="text" name="new_replace_with" size="24" maxlength="60" tabindex="2" /></td>									<td><input type="submit" name="add_word" value="<?php echo $lang_admin_common['Add'] ?>" tabindex="3" /></td>								</tr>							</tbody>							</table>						</div>					</fieldset>				</div>				<div class="inform">					<fieldset>						<legend><?php echo $lang_admin_censoring['Edit remove subhead'] ?></legend>						<div class="infldset"><?php$result = $db->query('SELECT id, search_for, replace_with FROM '.$db->prefix.'censoring ORDER BY id') or error('Unable to fetch censor word list', __FILE__, __LINE__, $db->error());if ($db->num_rows($result)){?>							<table cellspacing="0" >							<thead>								<tr>									<th class="tcl" scope="col"><?php echo $lang_admin_censoring['Censored word label'] ?></th>									<th class="tc2" scope="col"><?php echo $lang_admin_censoring['Replacement label'] ?></th>									<th class="hidehead" scope="col"><?php echo $lang_admin_censoring['Action label'] ?></th>								</tr>							</thead>							<tbody><?php	while ($cur_word = $db->fetch_assoc($result))		echo "\t\t\t\t\t\t\t\t".'<tr><td class="tcl"><input type="text" name="search_for['.$cur_word['id'].']" value="'.pun_htmlspecialchars($cur_word['search_for']).'" size="24" maxlength="60" /></td><td class="tc2"><input type="text" name="replace_with['.$cur_word['id'].']" value="'.pun_htmlspecialchars($cur_word['replace_with']).'" size="24" maxlength="60" /></td><td><input type="submit" name="update['.$cur_word['id'].']" value="'.$lang_admin_common['Update'].'" />&#160;<input type="submit" name="remove['.$cur_word['id'].']" value="'.$lang_admin_common['Remove'].'" /></td></tr>'."\n";?>							</tbody>							</table><?php}else	echo "\t\t\t\t\t\t\t".'<p>'.$lang_admin_censoring['No words in list'].'</p>'."\n";?>						</div>					</fieldset>				</div>			</form>		</div>	</div>	<div class="clearer"></div></div><?phprequire PUN_ROOT.'footer.php';
<?php/** * Copyright (C) 2008-2012 FluxBB * based on code by Rickard Andersson copyright (C) 2002-2008 PunBB * License: http://www.gnu.org/licenses/gpl.html GPL version 2 or higher */// Tell header.php to use the help templatedefine('PUN_HELP', 1);define('PUN_ROOT', dirname(__FILE__).'/');require PUN_ROOT.'include/common.php';if ($pun_user['g_read_board'] == '0')	message($lang_common['No view'], false, '403 Forbidden');// Load the help.php language filerequire PUN_ROOT.'lang/'.$pun_user['language'].'/help.php';$page_title = array(pun_htmlspecialchars($pun_config['o_board_title']), $lang_help['Help']);define('PUN_ACTIVE_PAGE', 'help');require PUN_ROOT.'header.php';?><h2><span><?php echo $lang_help['BBCode'] ?></span></h2><div class="box">	<div class="inbox">		<p><a name="bbcode"></a><?php echo $lang_help['BBCode info 1'] ?></p>		<p><?php echo $lang_help['BBCode info 2'] ?></p>	</div></div><h2><span><?php echo $lang_help['Text style'] ?></span></h2><div class="box">	<div class="inbox">		<p><?php echo $lang_help['Text style info'] ?></p>		<p><code>[b]<?php echo $lang_help['Bold text'] ?>[/b]</code> <?php echo $lang_help['produces'] ?> <samp><strong><?php echo $lang_help['Bold text'] ?></strong></samp></p>		<p><code>[u]<?php echo $lang_help['Underlined text'] ?>[/u]</code> <?php echo $lang_help['produces'] ?> <samp><span class="bbu"><?php echo $lang_help['Underlined text'] ?></span></samp></p>		<p><code>[i]<?php echo $lang_help['Italic text'] ?>[/i]</code> <?php echo $lang_help['produces'] ?> <samp><em><?php echo $lang_help['Italic text'] ?></em></samp></p>		<p><code>[s]<?php echo $lang_help['Strike-through text'] ?>[/s]</code> <?php echo $lang_help['produces'] ?> <samp><span class="bbs"><?php echo $lang_help['Strike-through text'] ?></span></samp></p>		<p><code>[del]<?php echo $lang_help['Deleted text'] ?>[/del]</code> <?php echo $lang_help['produces'] ?> <samp><del><?php echo $lang_help['Deleted text'] ?></del></samp></p>		<p><code>[ins]<?php echo $lang_help['Inserted text'] ?>[/ins]</code> <?php echo $lang_help['produces'] ?> <samp><ins><?php echo $lang_help['Inserted text'] ?></ins></samp></p>		<p><code>[em]<?php echo $lang_help['Emphasised text'] ?>[/em]</code> <?php echo $lang_help['produces'] ?> <samp><em><?php echo $lang_help['Emphasised text'] ?></em></samp></p>		<p><code>[color=#FF0000]<?php echo $lang_help['Red text'] ?>[/color]</code> <?php echo $lang_help['produces'] ?> <samp><span style="color: #ff0000"><?php echo $lang_help['Red text'] ?></span></samp></p>		<p><code>[color=blue]<?php echo $lang_help['Blue text'] ?>[/color]</code> <?php echo $lang_help['produces'] ?> <samp><span style="color: blue"><?php echo $lang_help['Blue text'] ?></span></samp></p>		<p><code>[h]<?php echo $lang_help['Heading text'] ?>[/h]</code> <?php echo $lang_help['produces'] ?></p> <div class="postmsg"><h5><?php echo $lang_help['Heading text'] ?></h5></div>	</div></div><h2><span><?php echo $lang_help['Links and images'] ?></span></h2><div class="box">	<div class="inbox">		<p><?php echo $lang_help['Links info'] ?></p>		<p><a name="url"></a><code>[url=<?php echo pun_htmlspecialchars(get_base_url(true).'/') ?>]<?php echo pun_htmlspecialchars($pun_config['o_board_title']) ?>[/url]</code> <?php echo $lang_help['produces'] ?> <samp><a href="<?php echo pun_htmlspecialchars(get_base_url(true).'/') ?>"><?php echo pun_htmlspecialchars($pun_config['o_board_title']) ?></a></samp></p>		<p><code>[url]<?php echo pun_htmlspecialchars(get_base_url(true).'/') ?>[/url]</code> <?php echo $lang_help['produces'] ?> <samp><a href="<?php echo pun_htmlspecialchars(get_base_url(true).'/') ?>"><?php echo pun_htmlspecialchars(get_base_url(true).'/') ?></a></samp></p>		<p><code>[url=/help.php]<?php echo $lang_help['This help page'] ?>[/url]</code> <?php echo $lang_help['produces'] ?> <samp><a href="<?php echo pun_htmlspecialchars(get_base_url(true).'/help.php') ?>"><?php echo $lang_help['This help page'] ?></a></samp></p>		<p><code>[email]myname@example.com[/email]</code> <?php echo $lang_help['produces'] ?> <samp><a href="mailto:myname@example.com">myname@example.com</a></samp></p>		<p><code>[email=myname@example.com]<?php echo $lang_help['My email address'] ?>[/email]</code> <?php echo $lang_help['produces'] ?> <samp><a href="mailto:myname@example.com"><?php echo $lang_help['My email address'] ?></a></samp></p>		<p><code>[topic=1]<?php echo $lang_help['Test topic'] ?>[/topic]</code> <?php echo $lang_help['produces'] ?> <samp><a href="<?php echo pun_htmlspecialchars(get_base_url(true).'/viewtopic.php?id=1') ?>"><?php echo $lang_help['Test topic'] ?></a></samp></p>		<p><code>[topic]1[/topic]</code> <?php echo $lang_help['produces'] ?> <samp><a href="<?php echo pun_htmlspecialchars(get_base_url(true).'/viewtopic.php?id=1') ?>"><?php echo pun_htmlspecialchars(get_base_url(true).'/viewtopic.php?id=1') ?></a></samp></p>		<p><code>[post=1]<?php echo $lang_help['Test post'] ?>[/post]</code> <?php echo $lang_help['produces'] ?> <samp><a href="<?php echo pun_htmlspecialchars(get_base_url(true).'/viewtopic.php?pid=1#p1') ?>"><?php echo $lang_help['Test post'] ?></a></samp></p>		<p><code>[post]1[/post]</code> <?php echo $lang_help['produces'] ?> <samp><a href="<?php echo pun_htmlspecialchars(get_base_url(true).'/viewtopic.php?pid=1#p1') ?>"><?php echo pun_htmlspecialchars(get_base_url(true).'/viewtopic.php?pid=1#p1') ?></a></samp></p>		<p><code>[forum=1]<?php echo $lang_help['Test forum'] ?>[/forum]</code> <?php echo $lang_help['produces'] ?> <samp><a href="<?php echo pun_htmlspecialchars(get_base_url(true).'/viewforum.php?id=1') ?>"><?php echo $lang_help['Test forum'] ?></a></samp></p>		<p><code>[forum]1[/forum]</code> <?php echo $lang_help['produces'] ?> <samp><a href="<?php echo pun_htmlspecialchars(get_base_url(true).'/viewforum.php?id=1') ?>"><?php echo pun_htmlspecialchars(get_base_url(true).'/viewforum.php?id=1') ?></a></samp></p>		<p><code>[user=2]<?php echo $lang_help['Test user'] ?>[/user]</code> <?php echo $lang_help['produces'] ?> <samp><a href="<?php echo pun_htmlspecialchars(get_base_url(true).'/profile.php?id=2') ?>"><?php echo $lang_help['Test user'] ?></a></samp></p>		<p><code>[user]2[/user]</code> <?php echo $lang_help['produces'] ?> <samp><a href="<?php echo pun_htmlspecialchars(get_base_url(true).'/profile.php?id=2') ?>"><?php echo pun_htmlspecialchars(get_base_url(true).'/profile.php?id=2') ?></a></samp></p>	</div>	<div class="inbox">		<p><a name="img"></a><?php echo $lang_help['Images info'] ?></p>		<p><code>[img=<?php echo $lang_help['FluxBB bbcode test'] ?>]<?php echo pun_htmlspecialchars(get_base_url(true)) ?>/img/test.png[/img]</code> <?php echo $lang_help['produces'] ?> <samp><img style="height: 21px" src="<?php echo pun_htmlspecialchars(get_base_url(true)) ?>/img/test.png" alt="<?php echo $lang_help['FluxBB bbcode test'] ?>" /></samp></p>	</div></div><h2><span><?php echo $lang_help['Quotes'] ?></span></h2><div class="box">	<div class="inbox">		<p><?php echo $lang_help['Quotes info'] ?></p>		<p><code>[quote=James]<?php echo $lang_help['Quote text'] ?>[/quote]</code></p>		<p><?php echo $lang_help['produces quote box'] ?></p>		<div class="postmsg">			<div class="quotebox"><cite>James <?php echo $lang_common['wrote'] ?></cite><blockquote><div><p><?php echo $lang_help['Quote text'] ?></p></div></blockquote></div>		</div>		<p><?php echo $lang_help['Quotes info 2'] ?></p>		<p><code>[quote]<?php echo $lang_help['Quote text'] ?>[/quote]</code></p>		<p><?php echo $lang_help['produces quote box'] ?></p>		<div class="postmsg">			<div class="quotebox"><blockquote><div><p><?php echo $lang_help['Quote text'] ?></p></div></blockquote></div>		</div>		<p><?php echo $lang_help['quote note'] ?></p>	</div></div><h2><span><?php echo $lang_help['Code'] ?></span></h2><div class="box">	<div class="inbox">		<p><?php echo $lang_help['Code info'] ?></p>		<p><code>[code]<?php echo $lang_help['Code text'] ?>[/code]</code></p>		<p><?php echo $lang_help['produces code box'] ?></p>		<div class="postmsg">			<div class="codebox"><pre><code><?php echo $lang_help['Code text'] ?></code></pre></div>		</div>	</div></div><h2><span><?php echo $lang_help['Lists'] ?></span></h2><div class="box">	<div class="inbox">		<p><a name="lists"></a><?php echo $lang_help['List info'] ?></p>		<p><code>[list][*]<?php echo $lang_help['List text 1'] ?>[/*][*]<?php echo $lang_help['List text 2'] ?>[/*][*]<?php echo $lang_help['List text 3'] ?>[/*][/list]</code>		<br /><span><?php echo $lang_help['produces list'] ?></span></p>		<div class="postmsg">			<ul><li><p><?php echo $lang_help['List text 1'] ?></p></li><li><p><?php echo $lang_help['List text 2'] ?></p></li><li><p><?php echo $lang_help['List text 3'] ?></p></li></ul>		</div>		<p><code>[list=1][*]<?php echo $lang_help['List text 1'] ?>[/*][*]<?php echo $lang_help['List text 2'] ?>[/*][*]<?php echo $lang_help['List text 3'] ?>[/*][/list]</code>		<br /><span><?php echo $lang_help['produces decimal list'] ?></span></p>		<div class="postmsg">			<ol class="decimal"><li><p><?php echo $lang_help['List text 1'] ?></p></li><li><p><?php echo $lang_help['List text 2'] ?></p></li><li><p><?php echo $lang_help['List text 3'] ?></p></li></ol>		</div>		<p><code>[list=a][*]<?php echo $lang_help['List text 1'] ?>[/*][*]<?php echo $lang_help['List text 2'] ?>[/*][*]<?php echo $lang_help['List text 3'] ?>[/*][/list]</code>		<br /><span><?php echo $lang_help['produces alpha list'] ?></span></p>		<div class="postmsg">			<ol class="alpha"><li><p><?php echo $lang_help['List text 1'] ?></p></li><li><p><?php echo $lang_help['List text 2'] ?></p></li><li><p><?php echo $lang_help['List text 3'] ?></p></li></ol>		</div>	</div></div><h2><span><?php echo $lang_help['Nested tags'] ?></span></h2><div class="box">	<div class="inbox">		<p><?php echo $lang_help['Nested tags info'] ?></p>		<p><code>[b][u]<?php echo $lang_help['Bold, underlined text'] ?>[/u][/b]</code> <?php echo $lang_help['produces'] ?> <samp><strong><span class="bbu"><?php echo $lang_help['Bold, underlined text'] ?></span></strong></samp></p>	</div></div><h2><span><?php echo $lang_help['Smilies'] ?></span></h2><div class="box">	<div class="inbox">		<p><a name="smilies"></a><?php echo $lang_help['Smilies info'] ?></p><?php// Display the smiley setrequire PUN_ROOT.'include/parser.php';$smiley_groups = array();foreach ($smilies as $smiley_text => $smiley_img)	$smiley_groups[$smiley_img][] = $smiley_text;foreach ($smiley_groups as $smiley_img => $smiley_texts)	echo "\t\t".'<p><code>'.implode('</code> '.$lang_common['and'].' <code>', $smiley_texts).'</code> <span>'.$lang_help['produces'].'</span> <samp><img src="'.pun_htmlspecialchars(get_base_url(true)).'/img/smilies/'.$smiley_img.'" width="15" height="15" alt="'.$smiley_texts[0].'" /></samp></p>'."\n";?>	</div></div><?phprequire PUN_ROOT.'footer.php';
<?php/** * Copyright (C) 2008-2012 FluxBB * based on code by Rickard Andersson copyright (C) 2002-2008 PunBB * License: http://www.gnu.org/licenses/gpl.html GPL version 2 or higher */// Tell header.php to use the admin templatedefine('PUN_ADMIN_CONSOLE', 1);define('PUN_ROOT', dirname(__FILE__).'/');require PUN_ROOT.'include/common.php';require PUN_ROOT.'include/common_admin.php';if ($pun_user['g_id'] != PUN_ADMIN)	message($lang_common['No permission'], false, '403 Forbidden');// Load the admin_permissions.php language filerequire PUN_ROOT.'lang/'.$admin_language.'/admin_permissions.php';if (isset($_POST['form_sent'])){	confirm_referrer('admin_permissions.php');	$form = array_map('intval', $_POST['form']);	foreach ($form as $key => $input)	{		// Make sure the input is never a negative value		if($input < 0)			$input = 0;		// Only update values that have changed		if (array_key_exists('p_'.$key, $pun_config) && $pun_config['p_'.$key] != $input)			$db->query('UPDATE '.$db->prefix.'config SET conf_value='.$input.' WHERE conf_name=\'p_'.$db->escape($key).'\'') or error('Unable to update board config', __FILE__, __LINE__, $db->error());	}	// Regenerate the config cache	if (!defined('FORUM_CACHE_FUNCTIONS_LOADED'))		require PUN_ROOT.'include/cache.php';	generate_config_cache();	redirect('admin_permissions.php', $lang_admin_permissions['Perms updated redirect']);}$page_title = array(pun_htmlspecialchars($pun_config['o_board_title']), $lang_admin_common['Admin'], $lang_admin_common['Permissions']);define('PUN_ACTIVE_PAGE', 'admin');require PUN_ROOT.'header.php';generate_admin_menu('permissions');?>	<div class="blockform">		<h2><span><?php echo $lang_admin_permissions['Permissions head'] ?></span></h2>		<div class="box">			<form method="post" action="admin_permissions.php">				<p class="submittop"><input type="submit" name="save" value="<?php echo $lang_admin_common['Save changes'] ?>" /></p>				<div class="inform">					<input type="hidden" name="form_sent" value="1" />					<fieldset>						<legend><?php echo $lang_admin_permissions['Posting subhead'] ?></legend>						<div class="infldset">							<table class="aligntop" cellspacing="0">								<tr>									<th scope="row"><?php echo $lang_admin_permissions['BBCode label'] ?></th>									<td>										<label class="conl"><input type="radio" name="form[message_bbcode]" value="1"<?php if ($pun_config['p_message_bbcode'] == '1') echo ' checked="checked"' ?> />&#160;<strong><?php echo $lang_admin_common['Yes'] ?></strong></label>										<label class="conl"><input type="radio" name="form[message_bbcode]" value="0"<?php if ($pun_config['p_message_bbcode'] == '0') echo ' checked="checked"' ?> />&#160;<strong><?php echo $lang_admin_common['No'] ?></strong></label>										<span class="clearb"><?php echo $lang_admin_permissions['BBCode help'] ?></span>									</td>								</tr>								<tr>									<th scope="row"><?php echo $lang_admin_permissions['Image tag label'] ?></th>									<td>										<label class="conl"><input type="radio" name="form[message_img_tag]" value="1"<?php if ($pun_config['p_message_img_tag'] == '1') echo ' checked="checked"' ?> />&#160;<strong><?php echo $lang_admin_common['Yes'] ?></strong></label>										<label class="conl"><input type="radio" name="form[message_img_tag]" value="0"<?php if ($pun_config['p_message_img_tag'] == '0') echo ' checked="checked"' ?> />&#160;<strong><?php echo $lang_admin_common['No'] ?></strong></label>										<span class="clearb"><?php echo $lang_admin_permissions['Image tag help'] ?></span>									</td>								</tr>								<tr>									<th scope="row"><?php echo $lang_admin_permissions['All caps message label'] ?></th>									<td>										<label class="conl"><input type="radio" name="form[message_all_caps]" value="1"<?php if ($pun_config['p_message_all_caps'] == '1') echo ' checked="checked"' ?> />&#160;<strong><?php echo $lang_admin_common['Yes'] ?></strong></label>										<label class="conl"><input type="radio" name="form[message_all_caps]" value="0"<?php if ($pun_config['p_message_all_caps'] == '0') echo ' checked="checked"' ?> />&#160;<strong><?php echo $lang_admin_common['No'] ?></strong></label>										<span class="clearb"><?php echo $lang_admin_permissions['All caps message help'] ?></span>									</td>								</tr>								<tr>									<th scope="row"><?php echo $lang_admin_permissions['All caps subject label'] ?></th>									<td>										<label class="conl"><input type="radio" name="form[subject_all_caps]" value="1"<?php if ($pun_config['p_subject_all_caps'] == '1') echo ' checked="checked"' ?> />&#160;<strong><?php echo $lang_admin_common['Yes'] ?></strong></label>										<label class="conl"><input type="radio" name="form[subject_all_caps]" value="0"<?php if ($pun_config['p_subject_all_caps'] == '0') echo ' checked="checked"' ?> />&#160;<strong><?php echo $lang_admin_common['No'] ?></strong></label>										<span class="clearb"><?php echo $lang_admin_permissions['All caps subject help'] ?></span>									</td>								</tr>								<tr>									<th scope="row"><?php echo $lang_admin_permissions['Require e-mail label'] ?></th>									<td>										<label class="conl"><input type="radio" name="form[force_guest_email]" value="1"<?php if ($pun_config['p_force_guest_email'] == '1') echo ' checked="checked"' ?> />&#160;<strong><?php echo $lang_admin_common['Yes'] ?></strong></label>										<label class="conl"><input type="radio" name="form[force_guest_email]" value="0"<?php if ($pun_config['p_force_guest_email'] == '0') echo ' checked="checked"' ?> />&#160;<strong><?php echo $lang_admin_common['No'] ?></strong></label>										<span class="clearb"><?php echo $lang_admin_permissions['Require e-mail help'] ?></span>									</td>								</tr>							</table>						</div>					</fieldset>				</div>				<div class="inform">					<fieldset>						<legend><?php echo $lang_admin_permissions['Signatures subhead'] ?></legend>						<div class="infldset">							<table class="aligntop" cellspacing="0">								<tr>									<th scope="row"><?php echo $lang_admin_permissions['BBCode sigs label'] ?></th>									<td>										<label class="conl"><input type="radio" name="form[sig_bbcode]" value="1"<?php if ($pun_config['p_sig_bbcode'] == '1') echo ' checked="checked"' ?> />&#160;<strong><?php echo $lang_admin_common['Yes'] ?></strong></label>										<label class="conl"><input type="radio" name="form[sig_bbcode]" value="0"<?php if ($pun_config['p_sig_bbcode'] == '0') echo ' checked="checked"' ?> />&#160;<strong><?php echo $lang_admin_common['No'] ?></strong></label>										<span class="clearb"><?php echo $lang_admin_permissions['BBCode sigs help'] ?></span>									</td>								</tr>								<tr>									<th scope="row"><?php echo $lang_admin_permissions['Image tag sigs label'] ?></th>									<td>										<label class="conl"><input type="radio" name="form[sig_img_tag]" value="1"<?php if ($pun_config['p_sig_img_tag'] == '1') echo ' checked="checked"' ?> />&#160;<strong><?php echo $lang_admin_common['Yes'] ?></strong></label>										<label class="conl"><input type="radio" name="form[sig_img_tag]" value="0"<?php if ($pun_config['p_sig_img_tag'] == '0') echo ' checked="checked"' ?> />&#160;<strong><?php echo $lang_admin_common['No'] ?></strong></label>										<span class="clearb"><?php echo $lang_admin_permissions['Image tag sigs help'] ?></span>									</td>								</tr>								<tr>									<th scope="row"><?php echo $lang_admin_permissions['All caps sigs label'] ?></th>									<td>										<label class="conl"><input type="radio" name="form[sig_all_caps]" value="1"<?php if ($pun_config['p_sig_all_caps'] == '1') echo ' checked="checked"' ?> />&#160;<strong><?php echo $lang_admin_common['Yes'] ?></strong></label>										<label class="conl"><input type="radio" name="form[sig_all_caps]" value="0"<?php if ($pun_config['p_sig_all_caps'] == '0') echo ' checked="checked"' ?> />&#160;<strong><?php echo $lang_admin_common['No'] ?></strong></label>										<span class="clearb"><?php echo $lang_admin_permissions['All caps sigs help'] ?></span>									</td>								</tr>								<tr>									<th scope="row"><?php echo $lang_admin_permissions['Max sig length label'] ?></th>									<td>										<input type="text" name="form[sig_length]" size="5" maxlength="5" value="<?php echo $pun_config['p_sig_length'] ?>" />										<span class="clearb"><?php echo $lang_admin_permissions['Max sig length help'] ?></span>									</td>								</tr>								<tr>									<th scope="row"><?php echo $lang_admin_permissions['Max sig lines label'] ?></th>									<td>										<input type="text" name="form[sig_lines]" size="3" maxlength="3" value="<?php echo $pun_config['p_sig_lines'] ?>" />										<span class="clearb"><?php echo $lang_admin_permissions['Max sig lines help'] ?></span>									</td>								</tr>							</table>						</div>					</fieldset>				</div>				<div class="inform">					<fieldset>						<legend><?php echo $lang_admin_permissions['Registration subhead'] ?></legend>						<div class="infldset">							<table class="aligntop" cellspacing="0">								<tr>									<th scope="row"><?php echo $lang_admin_permissions['Banned e-mail label'] ?></th>									<td>										<label class="conl"><input type="radio" name="form[allow_banned_email]" value="1"<?php if ($pun_config['p_allow_banned_email'] == '1') echo ' checked="checked"' ?> />&#160;<strong><?php echo $lang_admin_common['Yes'] ?></strong></label>										<label class="conl"><input type="radio" name="form[allow_banned_email]" value="0"<?php if ($pun_config['p_allow_banned_email'] == '0') echo ' checked="checked"' ?> />&#160;<strong><?php echo $lang_admin_common['No'] ?></strong></label>										<span class="clearb"><?php echo $lang_admin_permissions['Banned e-mail help'] ?></span>									</td>								</tr>								<tr>									<th scope="row"><?php echo $lang_admin_permissions['Duplicate e-mail label'] ?></th>									<td>										<label class="conl"><input type="radio" name="form[allow_dupe_email]" value="1"<?php if ($pun_config['p_allow_dupe_email'] == '1') echo ' checked="checked"' ?> />&#160;<strong><?php echo $lang_admin_common['Yes'] ?></strong></label>										<label class="conl"><input type="radio" name="form[allow_dupe_email]" value="0"<?php if ($pun_config['p_allow_dupe_email'] == '0') echo ' checked="checked"' ?> />&#160;<strong><?php echo $lang_admin_common['No'] ?></strong></label>										<span class="clearb"><?php echo $lang_admin_permissions['Duplicate e-mail help'] ?></span>									</td>								</tr>							</table>						</div>					</fieldset>				</div>				<p class="submitend"><input type="submit" name="save" value="<?php echo $lang_admin_common['Save changes'] ?>" /></p>			</form>		</div>	</div>	<div class="clearer"></div></div><?phprequire PUN_ROOT.'footer.php';
<?php/** * Copyright (C) 2008-2012 FluxBB * based on code by Rickard Andersson copyright (C) 2002-2008 PunBB * License: http://www.gnu.org/licenses/gpl.html GPL version 2 or higher */// Make sure no one attempts to run this script "directly"if (!defined('PUN'))	exit;// Make sure we have a usable language pack for admin.if (file_exists(PUN_ROOT.'lang/'.$pun_user['language'].'/admin_common.php'))	$admin_language = $pun_user['language'];else if (file_exists(PUN_ROOT.'lang/'.$pun_config['o_default_lang'].'/admin_common.php'))	$admin_language = $pun_config['o_default_lang'];else	$admin_language = 'English';// Attempt to load the admin_common language filerequire PUN_ROOT.'lang/'.$admin_language.'/admin_common.php';//// Display the admin navigation menu//function generate_admin_menu($page = ''){	global $pun_config, $pun_user, $lang_admin_common;	$is_admin = $pun_user['g_id'] == PUN_ADMIN ? true : false;?><div id="adminconsole" class="block2col">	<div id="adminmenu" class="blockmenu">		<h2><span><?php echo $lang_admin_common['Moderator menu'] ?></span></h2>		<div class="box">			<div class="inbox">				<ul>					<li<?php if ($page == 'index') echo ' class="isactive"'; ?>><a href="admin_index.php"><?php echo $lang_admin_common['Index'] ?></a></li>					<li<?php if ($page == 'users') echo ' class="isactive"'; ?>><a href="admin_users.php"><?php echo $lang_admin_common['Users'] ?></a></li><?php if ($is_admin || $pun_user['g_mod_ban_users'] == '1'): ?>					<li<?php if ($page == 'bans') echo ' class="isactive"'; ?>><a href="admin_bans.php"><?php echo $lang_admin_common['Bans'] ?></a></li><?php endif; if ($is_admin || $pun_config['o_report_method'] == '0' || $pun_config['o_report_method'] == '2'): ?>					<li<?php if ($page == 'reports') echo ' class="isactive"'; ?>><a href="admin_reports.php"><?php echo $lang_admin_common['Reports'] ?></a></li><?php endif; ?>				</ul>			</div>		</div><?php	if ($is_admin)	{?>		<h2 class="block2"><span><?php echo $lang_admin_common['Admin menu'] ?></span></h2>		<div class="box">			<div class="inbox">				<ul>					<li<?php if ($page == 'options') echo ' class="isactive"'; ?>><a href="admin_options.php"><?php echo $lang_admin_common['Options'] ?></a></li>					<li<?php if ($page == 'permissions') echo ' class="isactive"'; ?>><a href="admin_permissions.php"><?php echo $lang_admin_common['Permissions'] ?></a></li>					<li<?php if ($page == 'categories') echo ' class="isactive"'; ?>><a href="admin_categories.php"><?php echo $lang_admin_common['Categories'] ?></a></li>					<li<?php if ($page == 'forums') echo ' class="isactive"'; ?>><a href="admin_forums.php"><?php echo $lang_admin_common['Forums'] ?></a></li>					<li<?php if ($page == 'groups') echo ' class="isactive"'; ?>><a href="admin_groups.php"><?php echo $lang_admin_common['User groups'] ?></a></li>					<li<?php if ($page == 'censoring') echo ' class="isactive"'; ?>><a href="admin_censoring.php"><?php echo $lang_admin_common['Censoring'] ?></a></li>					<li<?php if ($page == 'maintenance') echo ' class="isactive"'; ?>><a href="admin_maintenance.php"><?php echo $lang_admin_common['Maintenance'] ?></a></li>				</ul>			</div>		</div><?php	}	// See if there are any plugins	$plugins = forum_list_plugins($is_admin);	// Did we find any plugins?	if (!empty($plugins))	{?>		<h2 class="block2"><span><?php echo $lang_admin_common['Plugins menu'] ?></span></h2>		<div class="box">			<div class="inbox">				<ul><?php		foreach ($plugins as $plugin_name => $plugin)			echo "\t\t\t\t\t".'<li'.(($page == $plugin_name) ? ' class="isactive"' : '').'><a href="admin_loader.php?plugin='.$plugin_name.'">'.str_replace('_', ' ', $plugin).'</a></li>'."\n";?>				</ul>			</div>		</div><?php	}?>	</div><?php}//// Delete topics from $forum_id that are "older than" $prune_date (if $prune_sticky is 1, sticky topics will also be deleted)//function prune($forum_id, $prune_sticky, $prune_date){	global $db;	$extra_sql = ($prune_date != -1) ? ' AND last_post<'.$prune_date : '';	if (!$prune_sticky)		$extra_sql .= ' AND sticky=\'0\'';	// Fetch topics to prune	$result = $db->query('SELECT id FROM '.$db->prefix.'topics WHERE forum_id='.$forum_id.$extra_sql, true) or error('Unable to fetch topics', __FILE__, __LINE__, $db->error());	$topic_ids = '';	while ($row = $db->fetch_row($result))		$topic_ids .= (($topic_ids != '') ? ',' : '').$row[0];	if ($topic_ids != '')	{		// Fetch posts to prune		$result = $db->query('SELECT id FROM '.$db->prefix.'posts WHERE topic_id IN('.$topic_ids.')', true) or error('Unable to fetch posts', __FILE__, __LINE__, $db->error());		$post_ids = '';		while ($row = $db->fetch_row($result))			$post_ids .= (($post_ids != '') ? ',' : '').$row[0];		if ($post_ids != '')		{			// Delete topics			$db->query('DELETE FROM '.$db->prefix.'topics WHERE id IN('.$topic_ids.')') or error('Unable to prune topics', __FILE__, __LINE__, $db->error());			// Delete subscriptions			$db->query('DELETE FROM '.$db->prefix.'topic_subscriptions WHERE topic_id IN('.$topic_ids.')') or error('Unable to prune subscriptions', __FILE__, __LINE__, $db->error());			// Delete posts			$db->query('DELETE FROM '.$db->prefix.'posts WHERE id IN('.$post_ids.')') or error('Unable to prune posts', __FILE__, __LINE__, $db->error());			// We removed a bunch of posts, so now we have to update the search index			require_once PUN_ROOT.'include/search_idx.php';			strip_search_index($post_ids);		}	}}
<?php/** * Copyright (C) 2008-2012 FluxBB * based on code by Rickard Andersson copyright (C) 2002-2008 PunBB * License: http://www.gnu.org/licenses/gpl.html GPL version 2 or higher */// Tell header.php to use the admin templatedefine('PUN_ADMIN_CONSOLE', 1);define('PUN_ROOT', dirname(__FILE__).'/');require PUN_ROOT.'include/common.php';require PUN_ROOT.'include/common_admin.php';if (!$pun_user['is_admmod'])	message($lang_common['No permission'], false, '403 Forbidden');// Load the admin_index.php language filerequire PUN_ROOT.'lang/'.$admin_language.'/admin_index.php';$action = isset($_GET['action']) ? $_GET['action'] : null;// Show phpinfo() outputif ($action == 'phpinfo' && $pun_user['g_id'] == PUN_ADMIN){	// Is phpinfo() a disabled function?	if (strpos(strtolower((string) ini_get('disable_functions')), 'phpinfo') !== false)		message($lang_admin_index['PHPinfo disabled message']);	phpinfo();	exit;}// Get the server load averages (if possible)if (@file_exists('/proc/loadavg') && is_readable('/proc/loadavg')){	// We use @ just in case	$fh = @fopen('/proc/loadavg', 'r');	$load_averages = @fread($fh, 64);	@fclose($fh);	if (($fh = @fopen('/proc/loadavg', 'r')))	{		$load_averages = fread($fh, 64);		fclose($fh);	}	else		$load_averages = '';	$load_averages = @explode(' ', $load_averages);	$server_load = isset($load_averages[2]) ? $load_averages[0].' '.$load_averages[1].' '.$load_averages[2] : $lang_admin_index['Not available'];}else if (!in_array(PHP_OS, array('WINNT', 'WIN32')) && preg_match('%averages?: ([0-9\.]+),?\s+([0-9\.]+),?\s+([0-9\.]+)%i', @exec('uptime'), $load_averages))	$server_load = $load_averages[1].' '.$load_averages[2].' '.$load_averages[3];else	$server_load = $lang_admin_index['Not available'];// Get number of current visitors$result = $db->query('SELECT COUNT(user_id) FROM '.$db->prefix.'online WHERE idle=0') or error('Unable to fetch online count', __FILE__, __LINE__, $db->error());$num_online = $db->result($result);// Collect some additional info about MySQLif ($db_type == 'mysql' || $db_type == 'mysqli' || $db_type == 'mysql_innodb' || $db_type == 'mysqli_innodb'){	// Calculate total db size/row count	$result = $db->query('SHOW TABLE STATUS LIKE \''.$db->prefix.'%\'') or error('Unable to fetch table status', __FILE__, __LINE__, $db->error());	$total_records = $total_size = 0;	while ($status = $db->fetch_assoc($result))	{		$total_records += $status['Rows'];		$total_size += $status['Data_length'] + $status['Index_length'];	}	$total_size = file_size($total_size);}// Check for the existence of various PHP opcode caches/optimizersif (function_exists('mmcache'))	$php_accelerator = '<a href="http://'.$lang_admin_index['Turck MMCache link'].'">'.$lang_admin_index['Turck MMCache'].'</a>';else if (isset($_PHPA))	$php_accelerator = '<a href="http://'.$lang_admin_index['ionCube PHP Accelerator link'].'">'.$lang_admin_index['ionCube PHP Accelerator'].'</a>';else if (ini_get('apc.enabled'))	$php_accelerator ='<a href="http://'.$lang_admin_index['Alternative PHP Cache (APC) link'].'">'.$lang_admin_index['Alternative PHP Cache (APC)'].'</a>';else if (ini_get('zend_optimizer.optimization_level'))	$php_accelerator = '<a href="http://'.$lang_admin_index['Zend Optimizer link'].'">'.$lang_admin_index['Zend Optimizer'].'</a>';else if (ini_get('eaccelerator.enable'))	$php_accelerator = '<a href="http://'.$lang_admin_index['eAccelerator link'].'">'.$lang_admin_index['eAccelerator'].'</a>';else if (ini_get('xcache.cacher'))	$php_accelerator = '<a href="http://'.$lang_admin_index['XCache link'].'">'.$lang_admin_index['XCache'].'</a>';else	$php_accelerator = $lang_admin_index['NA'];$page_title = array(pun_htmlspecialchars($pun_config['o_board_title']), $lang_admin_common['Admin'], $lang_admin_common['Server statistics']);define('PUN_ACTIVE_PAGE', 'admin');require PUN_ROOT.'header.php';generate_admin_menu('index');?>	<div class="block">		<h2><span><?php echo $lang_admin_index['Server statistics head'] ?></span></h2>		<div id="adstats" class="box">			<div class="inbox">				<dl>					<dt><?php echo $lang_admin_index['Server load label'] ?></dt>					<dd>						<?php printf($lang_admin_index['Server load data']."\n", $server_load, $num_online) ?>					</dd><?php if ($pun_user['g_id'] == PUN_ADMIN): ?>					<dt><?php echo $lang_admin_index['Environment label'] ?></dt>					<dd>						<?php printf($lang_admin_index['Environment data OS'], PHP_OS) ?><br />						<?php printf($lang_admin_index['Environment data version'], phpversion(), '<a href="admin_statistics.php?action=phpinfo">'.$lang_admin_index['Show info'].'</a>') ?><br />						<?php printf($lang_admin_index['Environment data acc']."\n", $php_accelerator) ?>					</dd>					<dt><?php echo $lang_admin_index['Database label'] ?></dt>					<dd>						<?php echo implode(' ', $db->get_version())."\n" ?><?php if (isset($total_records) && isset($total_size)): ?>						<br /><?php printf($lang_admin_index['Database data rows']."\n", forum_number_format($total_records)) ?>						<br /><?php printf($lang_admin_index['Database data size']."\n", $total_size) ?><?php endif; ?>					</dd><?php endif; ?>				</dl>			</div>		</div>	</div>	<div class="clearer"></div></div><?phprequire PUN_ROOT.'footer.php';
